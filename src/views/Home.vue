<template>
  <div class="home-page">
    <!-- è‹±é›„åŒºåŸŸ -->
    <section class="hero-section">
      <div class="container">
        <div class="hero-content" data-aos="fade-up">
          <h1 class="hero-title">
            æ— é™ç§‘æŠ€PMS
            <span class="highlight">æ™ºèƒ½å¹¿å‘Šåˆ†å‘å¹³å°</span>
          </h1>
          <p class="hero-subtitle">
            åŸºäºå¤šçº§åˆ†é”€æ¨¡å¼çš„å¹¿å‘Šæµé‡åˆ†å‘å¹³å°ç®¡ç†ç³»ç»Ÿ<br>
            è®©å¹¿å‘Šåˆ†å‘æ›´æ™ºèƒ½ï¼Œè®©æ”¶ç›Šç®¡ç†æ›´ç®€å•
          </p>
          <div class="hero-stats">
            <div class="stat-item">
              <span class="stat-number">94%</span>
              <span class="stat-label">å®Œæˆåº¦</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">5</span>
              <span class="stat-label">æ ¸å¿ƒåº”ç”¨</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">6</span>
              <span class="stat-label">å¹¿å‘ŠSDK</span>
            </div>
          </div>
          <div class="hero-actions">
            <router-link to="/products" class="btn btn--primary btn--large">
              äº†è§£äº§å“
            </router-link>
            <router-link to="/contact" class="btn btn--secondary btn--large">
              è”ç³»æˆ‘ä»¬
            </router-link>
          </div>
        </div>
      </div>
    </section>

    <!-- æ ¸å¿ƒä¼˜åŠ¿ -->
    <section class="features-section">
      <div class="container">
        <div class="section-header" data-aos="fade-up">
          <h2 class="section-title">æ ¸å¿ƒä¼˜åŠ¿</h2>
          <p class="section-subtitle">å®Œæ•´çš„äº§å“ç”Ÿæ€ï¼Œæˆç†Ÿçš„å•†ä¸šæ¨¡å¼ï¼Œå…ˆè¿›çš„æŠ€æœ¯æ¶æ„</p>
        </div>
        <div class="features-grid">
          <div class="feature-card" data-aos="fade-up" data-aos-delay="100">
            <div class="feature-icon">
              <el-icon><Monitor /></el-icon>
            </div>
            <h3 class="feature-title">å®Œæ•´äº§å“ç”Ÿæ€</h3>
            <p class="feature-desc">5ä¸ªæ ¸å¿ƒåº”ç”¨è¦†ç›–Webç®¡ç†ã€ç§»åŠ¨ç«¯ã€åç«¯æœåŠ¡ç­‰å¤šä¸ªå¹³å°</p>
          </div>
          <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
            <div class="feature-icon">
              <el-icon><TrendCharts /></el-icon>
            </div>
            <h3 class="feature-title">å¤šçº§åˆ†é”€ä½“ç³»</h3>
            <p class="feature-desc">æ”¯æŒæ¸ é“ã€ä»£ç†ã€å•†æˆ·å¤šçº§ç”¨æˆ·ä½“ç³»ï¼Œå®Œæ•´çš„åˆ†æ¶¦æœºåˆ¶</p>
          </div>
          <div class="feature-card" data-aos="fade-up" data-aos-delay="300">
            <div class="feature-icon">
              <el-icon><Setting /></el-icon>
            </div>
            <h3 class="feature-title">å¾®æœåŠ¡æ¶æ„</h3>
            <p class="feature-desc">FastAPI + Goé«˜æ€§èƒ½åç«¯ï¼Œæ”¯æŒå¤šç¯å¢ƒéƒ¨ç½²å’Œå®¹ç¾å¤‡ä»½</p>
          </div>
          <div class="feature-card" data-aos="fade-up" data-aos-delay="400">
            <div class="feature-icon">
              <el-icon><Money /></el-icon>
            </div>
            <h3 class="feature-title">å¤šé‡æ”¶å…¥æ¨¡å¼</h3>
            <p class="feature-desc">åŠ ç›Ÿè´¹ã€å¹¿å‘ŠæŠ½æˆã€APPæœˆç§Ÿã€ä»£ç†ä¿è¯é‡‘ç­‰å¤šç§æ”¶å…¥æ¥æº</p>
          </div>
        </div>
      </div>
    </section>

    <!-- äº§å“å±•ç¤º -->
    <section class="products-section">
      <div class="container">
        <div class="section-header" data-aos="fade-up">
          <h2 class="section-title">äº§å“çŸ©é˜µ</h2>
          <p class="section-subtitle">äº”å¤§æ ¸å¿ƒåº”ç”¨ï¼Œæ„å»ºå®Œæ•´çš„ä¸šåŠ¡ç”Ÿæ€</p>
        </div>
        <div class="products-grid">
          <div
            v-for="(product, index) in featuredProducts"
            :key="product.id"
            class="product-card"
            data-aos="fade-up"
            :data-aos-delay="100 * (index + 1)"
          >
            <div class="product-icon">{{ product.category === 'Webåº”ç”¨' ? 'ğŸŒ' : 'ğŸ“±' }}</div>
            <h3 class="product-title">{{ product.name }}</h3>
            <p class="product-subtitle">{{ product.title }}</p>
            <p class="product-desc">{{ product.description }}</p>
            <div class="product-progress">
              <span class="progress-label">å®Œæˆåº¦</span>
              <div class="progress-bar">
                <div class="progress-fill" :style="{ width: product.progress + '%' }"></div>
              </div>
              <span class="progress-value">{{ product.progress }}%</span>
            </div>
          </div>
        </div>
        <div class="products-action" data-aos="fade-up">
          <router-link to="/products" class="btn btn--primary">æŸ¥çœ‹æ‰€æœ‰äº§å“</router-link>
        </div>
      </div>
    </section>

    <!-- æŠ€æœ¯äº®ç‚¹ -->
    <section class="tech-section">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-12 col-lg-6" data-aos="fade-right">
            <h2 class="section-title">æŠ€æœ¯äº®ç‚¹</h2>
            <div class="tech-highlights">
              <div class="tech-item">
                <el-icon class="tech-icon"><Check /></el-icon>
                <span>6å¤§å¹¿å‘ŠSDKé›†æˆ</span>
              </div>
              <div class="tech-item">
                <el-icon class="tech-icon"><Check /></el-icon>
                <span>13ä¸ªåº”ç”¨å˜ä½“æ”¯æŒ</span>
              </div>
              <div class="tech-item">
                <el-icon class="tech-icon"><Check /></el-icon>
                <span>Work Profileä¼ä¸šçº§ç®¡ç†</span>
              </div>
              <div class="tech-item">
                <el-icon class="tech-icon"><Check /></el-icon>
                <span>è·¨å¹³å°é’±åŒ…åº”ç”¨</span>
              </div>
              <div class="tech-item">
                <el-icon class="tech-icon"><Check /></el-icon>
                <span>å¤šç¯å¢ƒéƒ¨ç½²æ”¯æŒ</span>
              </div>
            </div>
            <router-link to="/technology" class="btn btn--primary">äº†è§£æŠ€æœ¯æ¶æ„</router-link>
          </div>
          <div class="col-12 col-lg-6" data-aos="fade-left">
            <div class="tech-visual">
              <!-- è¿™é‡Œå¯ä»¥æ”¾ç½®æŠ€æœ¯æ¶æ„å›¾æˆ–å…¶ä»–è§†è§‰å…ƒç´  -->
              <div class="tech-placeholder">
                <el-icon><DataAnalysis /></el-icon>
                <p>æŠ€æœ¯æ¶æ„å›¾</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTAåŒºåŸŸ -->
    <section class="cta-section">
      <div class="container">
        <div class="cta-content" data-aos="fade-up">
          <h2 class="cta-title">å‡†å¤‡å¼€å§‹äº†å—ï¼Ÿ</h2>
          <p class="cta-subtitle">è”ç³»æˆ‘ä»¬ï¼Œäº†è§£æ›´å¤šå…³äºæ— é™ç§‘æŠ€PMSçš„ä¿¡æ¯</p>
          <div class="cta-actions">
            <router-link to="/contact" class="btn btn--primary btn--large">
              ç«‹å³è”ç³»
            </router-link>
            <router-link to="/solutions" class="btn btn--secondary btn--large">
              æŸ¥çœ‹æ–¹æ¡ˆ
            </router-link>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'
import {
  Monitor,
  TrendCharts,
  Setting,
  Money,
  Check,
  DataAnalysis
} from '@element-plus/icons-vue'
import { getWebsiteProducts, type Product } from '@/api'

const featuredProducts = ref<Product[]>([])

onMounted(async () => {
  try {
    featuredProducts.value = await getWebsiteProducts({ is_featured: true })
  } catch (error) {
    console.error('Failed to fetch featured products:', error)
  }
})
</script>

<style lang="scss" scoped>
.home-page {
  overflow-x: hidden;
}

// è‹±é›„åŒºåŸŸ
.hero-section {
  min-height: 100vh;
  display: flex;
  align-items: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  text-align: center;
  position: relative;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.3);
  }

  .container {
    position: relative;
    z-index: 1;
  }
}

.hero-title {
  font-size: clamp(2rem, 5vw, 4rem);
  font-weight: var(--font-weight-bold);
  margin-bottom: var(--spacing-lg);
  line-height: 1.2;

  .highlight {
    color: #ffd700;
  }
}

.hero-subtitle {
  font-size: var(--font-size-xl);
  margin-bottom: var(--spacing-xl);
  opacity: 0.9;
  line-height: var(--line-height-loose);
}

.hero-stats {
  display: flex;
  justify-content: center;
  gap: var(--spacing-xl);
  margin-bottom: var(--spacing-xl);
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;

  .stat-number {
    display: block;
    font-size: var(--font-size-hero);
    font-weight: var(--font-weight-bold);
    color: #ffd700;
  }

  .stat-label {
    font-size: var(--font-size-base);
    opacity: 0.8;
  }
}

.hero-actions {
  display: flex;
  justify-content: center;
  gap: var(--spacing-lg);
  flex-wrap: wrap;
}

// åŠŸèƒ½ç‰¹æ€§åŒºåŸŸ
.features-section {
  padding: var(--spacing-xxl) 0;
  background: var(--bg-secondary);
}

.section-header {
  text-align: center;
  margin-bottom: var(--spacing-xxl);
}

.section-title {
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  margin-bottom: var(--spacing-md);
  color: var(--text-primary);
}

.section-subtitle {
  font-size: var(--font-size-lg);
  color: var(--text-secondary);
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-xl);
}

.feature-card {
  background: white;
  padding: var(--spacing-xl);
  border-radius: var(--border-radius-large);
  text-align: center;
  box-shadow: var(--shadow-light);
  transition: transform var(--transition-base);

  &:hover {
    transform: translateY(-5px);
  }
}

.feature-icon {
  width: 80px;
  height: 80px;
  background: var(--primary-color);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto var(--spacing-lg);
  color: white;
  font-size: 32px;
}

.feature-title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  margin-bottom: var(--spacing-md);
  color: var(--text-primary);
}

.feature-desc {
  color: var(--text-secondary);
  line-height: var(--line-height-loose);
}

// äº§å“å±•ç¤ºåŒºåŸŸ
.products-section {
  padding: var(--spacing-xxl) 0;
}

.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--spacing-xl);
  margin-bottom: var(--spacing-xl);
}

.product-card {
  background: white;
  padding: var(--spacing-xl);
  border-radius: var(--border-radius-large);
  border: 1px solid var(--border-light);
  transition: all var(--transition-base);

  &:hover {
    box-shadow: var(--shadow-dark);
    transform: translateY(-2px);
  }
}

.product-icon {
  font-size: 48px;
  margin-bottom: var(--spacing-md);
}

.product-title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  margin-bottom: var(--spacing-xs);
  color: var(--text-primary);
}

.product-subtitle {
  color: var(--primary-color);
  font-weight: var(--font-weight-medium);
  margin-bottom: var(--spacing-md);
}

.product-desc {
  color: var(--text-secondary);
  line-height: var(--line-height-loose);
  margin-bottom: var(--spacing-lg);
}

.product-progress {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.progress-label {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
}

.progress-bar {
  flex: 1;
  height: 8px;
  background: var(--border-light);
  border-radius: 4px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: var(--success-color);
  transition: width var(--transition-slow);
}

.progress-value {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--success-color);
}

.products-action {
  text-align: center;
}

// æŠ€æœ¯äº®ç‚¹åŒºåŸŸ
.tech-section {
  padding: var(--spacing-xxl) 0;
  background: var(--bg-secondary);
}

.tech-highlights {
  margin-bottom: var(--spacing-xl);
}

.tech-item {
  display: flex;
  align-items: center;
  margin-bottom: var(--spacing-md);
  font-size: var(--font-size-lg);

  .tech-icon {
    color: var(--success-color);
    margin-right: var(--spacing-md);
    font-size: 20px;
  }
}

.tech-visual {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 400px;
}

.tech-placeholder {
  text-align: center;
  color: var(--text-secondary);

  .el-icon {
    font-size: 120px;
    margin-bottom: var(--spacing-md);
  }

  p {
    font-size: var(--font-size-lg);
  }
}

// CTAåŒºåŸŸ
.cta-section {
  padding: var(--spacing-xxl) 0;
  background: var(--primary-color);
  color: white;
  text-align: center;
}

.cta-title {
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  margin-bottom: var(--spacing-md);
}

.cta-subtitle {
  font-size: var(--font-size-lg);
  margin-bottom: var(--spacing-xl);
  opacity: 0.9;
}

.cta-actions {
  display: flex;
  justify-content: center;
  gap: var(--spacing-lg);
  flex-wrap: wrap;
}
</style>
